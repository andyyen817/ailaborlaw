# 🧪 **勞法通AI - 上线前完整测试指南**

## 📋 **测试环境准备**

### 1. 确认服务状态
```bash
# 运行健康检查
bash scripts/health-check.sh

# 如果服务未启动，运行：
npm run dev
```

**应该看到**：
- ✅ 开发服务器运行正常
- ✅ 所有关键页面可访问
- ✅ Vite进程运行正常

---

## 🎯 **第一阶段：基础页面访问测试**

### 1.1 主要页面访问测试
打开浏览器，逐一访问以下URL，确认页面能正常加载：

| 页面 | URL | 预期结果 |
|------|-----|----------|
| 主页 | http://localhost:3032 | 重定向到聊天页面 |
| 聊天页面 | http://localhost:3032/chat | 显示聊天界面（未登录会重定向到登录） |
| 用户登录 | http://localhost:3032/login | 显示用户登录表单 |
| 用户注册 | http://localhost:3032/register | 显示用户注册表单 |
| 管理员登录 | http://localhost:3032/admin/login | 显示管理员登录表单 |
| 测试页面 | http://localhost:3032/test | 显示功能测试面板 |

### 1.2 404页面测试
访问不存在的页面：http://localhost:3032/nonexistent
**预期结果**：显示404错误页面，有返回首页和进入聊天的按钮

---

## 🔐 **第二阶段：认证功能测试**

### 2.1 管理员登录测试

**操作步骤**：
1. 访问：http://localhost:3032/admin/login
2. 使用以下测试账号：
   - **邮箱**：`test@ailaborlaw.com`
   - **密码**：`Test1234`（注意大小写）

**预期结果**：
- ✅ 登录成功后跳转到管理员仪表板
- ✅ URL变为：`http://localhost:3032/admin/dashboard`
- ✅ 显示管理员界面

**测试点检查**：
- [ ] 错误密码是否显示错误提示
- [ ] 登录按钮是否有加载状态
- [ ] 登录成功后是否正确跳转

### 2.2 用户注册功能测试

**操作步骤**：
1. 访问：http://localhost:3032/register
2. 填写注册信息：
   - 用户名：`testuser`
   - 邮箱：`test@example.com`
   - 密码：`TestPassword123`
   - 确认密码：`TestPassword123`

**预期结果**：
- ✅ 表单验证正常工作
- ✅ 注册流程能够提交
- ✅ 显示适当的成功或错误消息

### 2.3 用户登录功能测试

**操作步骤**：
1. 访问：http://localhost:3032/login
2. 使用刚注册的账号或测试账号登录

**预期结果**：
- ✅ 登录成功后跳转到聊天页面
- ✅ URL包含用户ID：`http://localhost:3032/user/[userId]/chat`
- ✅ 显示用户聊天界面

---

## 💬 **第三阶段：核心功能测试**

### 3.1 聊天功能测试

**前提条件**：已登录用户账号

**测试步骤**：
1. 在聊天输入框输入：`请介绍一下劳动法`
2. 点击发送按钮

**预期结果**：
- ✅ 消息正确显示在聊天界面
- ✅ 显示AI正在输入的指示器
- ✅ 收到AI回复（可能是模拟数据）
- ✅ 咨询次数正确扣减

**测试点检查**：
- [ ] 剩余咨询次数是否正确显示
- [ ] 次数用完后是否显示不足弹窗
- [ ] 聊天记录是否正确保存

### 3.2 邀请功能测试

**操作步骤**：
1. 点击导航栏的"邀请好友"或访问：`http://localhost:3032/invite`
2. 查看邀请码和统计信息
3. 测试邀请链接生成

**预期结果**：
- ✅ 显示个人邀请码
- ✅ 显示邀请统计（邀请人数、成功率等）
- ✅ 显示成就系统和进度
- ✅ 可以分享邀请链接

**测试点检查**：
- [ ] 邀请码是否正确生成
- [ ] 成就进度是否正确显示
- [ ] 排行榜功能是否正常

### 3.3 个人资料功能测试

**操作步骤**：
1. 访问个人资料页面：`http://localhost:3032/profile`
2. 查看咨询次数信息
3. 查看今日使用统计

**预期结果**：
- ✅ 显示剩余咨询次数
- ✅ 显示今日已使用次数
- ✅ 显示用户基本信息
- ✅ 可以查看使用趋势

### 3.4 咨询记录功能测试

**操作步骤**：
1. 访问咨询记录页面：`http://localhost:3032/records`
2. 查看历史咨询记录
3. 测试筛选和搜索功能

**预期结果**：
- ✅ 显示历史咨询记录列表
- ✅ 可以展开查看详细内容
- ✅ 筛选和搜索功能正常
- ✅ 分页功能正常工作

---

## 🛠 **第四阶段：管理员功能测试**

### 4.1 管理员仪表板测试

**前提条件**：已登录管理员账号

**操作步骤**：
1. 访问：http://localhost:3032/admin/dashboard
2. 查看系统统计数据

**预期结果**：
- ✅ 显示用户数量统计
- ✅ 显示咨询次数统计
- ✅ 显示邀请数据统计
- ✅ 显示系统活跃度数据

### 4.2 用户管理功能测试

**操作步骤**：
1. 访问：http://localhost:3032/admin/users
2. 查看用户列表
3. 测试用户咨询次数管理

**预期结果**：
- ✅ 显示所有用户列表
- ✅ 可以查看用户详细信息
- ✅ 可以修改用户咨询次数
- ✅ 搜索和筛选功能正常

### 4.3 邀请管理功能测试

**操作步骤**：
1. 访问：http://localhost:3032/admin/invites
2. 查看邀请记录
3. 查看邀请统计数据

**预期结果**：
- ✅ 显示所有邀请记录
- ✅ 显示邀请统计信息
- ✅ 可以管理邀请数据
- ✅ 导出功能正常

### 4.4 系统设置功能测试

**操作步骤**：
1. 访问：http://localhost:3032/admin/settings
2. 查看系统配置
3. 测试设置修改功能

**预期结果**：
- ✅ 显示系统配置选项
- ✅ 可以修改咨询次数设置
- ✅ 可以修改邀请奖励设置
- ✅ 设置保存功能正常

---

## 🧪 **第五阶段：自动化功能测试**

### 5.1 使用测试页面进行自动化测试

**操作步骤**：
1. 访问：http://localhost:3032/test
2. 点击"运行所有测试"按钮
3. 观察测试结果

**预期结果**：
- ✅ 邀请系统API测试通过
- ✅ 咨询次数API测试通过
- ✅ 管理员功能测试通过
- ✅ 本地存储测试通过
- ✅ 数据格式验证通过

### 5.2 单项功能测试

**操作步骤**：
1. 分别点击各项单项测试按钮
2. 查看具体测试结果

**测试项目**：
- [ ] 测试获取邀请码
- [ ] 测试邀请统计
- [ ] 测试排行榜
- [ ] 测试咨询状态
- [ ] 测试今日使用
- [ ] 测试咨询记录

---

## 📱 **第六阶段：响应式和兼容性测试**

### 6.1 移动端响应式测试

**操作步骤**：
1. 使用浏览器开发者工具
2. 切换到手机视图（375px宽度）
3. 测试所有主要页面

**预期结果**：
- ✅ 所有页面在手机端正常显示
- ✅ 菜单和导航适配正确
- ✅ 表单输入体验良好
- ✅ 按钮和链接可点击

### 6.2 浏览器兼容性测试

**测试浏览器**：
- [ ] Chrome (推荐)
- [ ] Firefox
- [ ] Safari
- [ ] Edge

**测试要点**：
- [ ] 页面样式显示正确
- [ ] JavaScript功能正常
- [ ] 登录功能正常
- [ ] 聊天功能正常

---

## 🔧 **第七阶段：性能和错误处理测试**

### 7.1 网络错误处理测试

**操作步骤**：
1. 打开浏览器开发者工具
2. 切换到Network标签
3. 设置为Offline模式
4. 尝试发送聊天消息

**预期结果**：
- ✅ 显示网络错误提示
- ✅ 不会导致页面崩溃
- ✅ 恢复网络后功能正常

### 7.2 数据验证测试

**操作步骤**：
1. 在表单中输入无效数据
2. 尝试提交表单

**预期结果**：
- ✅ 显示适当的验证错误信息
- ✅ 不允许提交无效数据
- ✅ 用户体验良好

---

## ✅ **测试完成检查清单**

### 基础功能
- [ ] 所有页面可正常访问
- [ ] 路由跳转正确
- [ ] 404页面正常显示

### 认证功能
- [ ] 用户注册功能正常
- [ ] 用户登录功能正常
- [ ] 管理员登录功能正常
- [ ] 登出功能正常

### 核心功能
- [ ] 聊天功能正常
- [ ] 咨询次数管理正常
- [ ] 邀请功能正常
- [ ] 个人资料功能正常
- [ ] 咨询记录功能正常

### 管理员功能
- [ ] 管理员仪表板正常
- [ ] 用户管理功能正常
- [ ] 邀请管理功能正常
- [ ] 系统设置功能正常

### 技术指标
- [ ] 页面加载速度 < 3秒
- [ ] API响应时间 < 1秒
- [ ] 移动端适配良好
- [ ] 浏览器兼容性良好
- [ ] 错误处理完善

---

## 🚀 **测试通过标准**

### MVP上线标准：
- ✅ **基础功能**：90%以上测试点通过
- ✅ **核心功能**：100%测试点通过
- ✅ **性能指标**：符合预期标准
- ✅ **错误处理**：不出现未处理的错误

### 准备上线条件：
- [ ] 所有关键功能测试通过
- [ ] 性能指标达标
- [ ] 安全检查完成
- [ ] 备份和监控配置完成

---

**测试负责人**：开发团队  
**测试时间**：上线前1-2天  
**测试环境**：开发环境 (http://localhost:3032)  
**更新时间**：2024年12月 