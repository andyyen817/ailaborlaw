# 劳工顾问管理系统测试文档

## 📋 测试概览

**测试版本**: v2.2.0 (劳工顾问管理系统)  
**测试日期**: 2025-01-27  
**测试环境**: http://localhost:3030  
**负责人**: AI Assistant  

## 🎯 功能范围

### 已实现功能
- ✅ 劳工顾问CRUD管理
- ✅ 台湾22个行政区划支持
- ✅ 12个专业领域分类
- ✅ 高级筛选和搜索
- ✅ 分页显示
- ✅ 状态管理 (启用/停用)
- ✅ API集成 + 本地存储降级
- ✅ 管理后台集成

### 待后续扩展
- ⏳ 顾问-案件分配功能
- ⏳ 服务记录详细管理
- ⏳ 评分系统完善
- ⏳ 统计报表

## 🧪 详细测试步骤

### 第一步：访问管理后台

```bash
# 打开浏览器访问
http://localhost:3030/admin/login

# 使用管理员账号登录
用户名: admin@example.com
密码: admin123

# 验证点：
✓ 成功登录管理后台
✓ 左侧导航栏显示"劳工顾问管理"菜单项
✓ 点击后跳转到 /admin/labor-advisors
```

### 第二步：基本页面功能测试

#### 2.1 页面加载测试
```
访问地址: http://localhost:3030/admin/labor-advisors

预期结果:
✓ 页面标题显示"劳工顾问管理"
✓ 右上角有"添加顾问"按钮
✓ 筛选区域包含4个下拉框: 搜索、服务地区、专业领域、状态
✓ 数据表格显示顾问列表 (默认显示5个模拟顾问)
✓ 分页控件正常显示
```

#### 2.2 地区筛选测试
```
测试步骤:
1. 点击"服务地区"下拉框
2. 验证包含3个optgroup:
   - 直辖市 (6个): 台北市、新北市、桃园市、台中市、台南市、高雄市
   - 县 (13个): 新竹县、苗栗县、彰化县...
   - 市 (3个): 基隆市、新竹市、嘉义市
3. 选择"台北市"
4. 点击确认筛选

预期结果:
✓ 只显示服务地区为"台北市"的顾问
✓ 分页信息正确更新
✓ URL参数正确添加筛选条件
```

#### 2.3 专业领域筛选测试
```
测试步骤:
1. 选择专业领域"劳动合同"
2. 验证筛选结果

预期结果:
✓ 只显示专业领域包含"劳动合同"的顾问
✓ 标签正确高亮显示
✓ 数据准确筛选
```

### 第三步：CRUD功能测试

#### 3.1 添加顾问测试
```
测试步骤:
1. 点击"添加顾问"按钮
2. 填写表单:
   - 姓名: 测试顾问001
   - 联系电话: 0987-654-321
   - 邮箱: test001@advisor.com
   - 服务地区: 台北市
   - 专业领域: 勾选"劳动合同"、"工资福利"
   - 备注: 这是一个测试顾问
3. 点击"添加"

预期结果:
✓ 表单验证正确 (必填项检查)
✓ 成功添加新顾问
✓ 页面自动刷新显示新数据
✓ 新顾问显示在列表中
✓ 默认状态为"启用"
```

#### 3.2 编辑顾问测试
```
测试步骤:
1. 点击任一顾问行的"编辑"按钮
2. 修改姓名为: [原姓名]_已编辑
3. 增加一个专业领域
4. 点击"保存"

预期结果:
✓ 编辑模态框正确预填原数据
✓ 修改成功保存
✓ 列表中显示更新后的信息
✓ 更新时间字段正确显示
```

#### 3.3 查看详情测试
```
测试步骤:
1. 点击任一顾问的"详情"按钮
2. 查看详情模态框内容

预期结果:
✓ 显示完整的顾问信息
✓ 基本信息、服务统计正确分组
✓ 专业领域标签正确显示
✓ 可以从详情页直接跳转到编辑
```

#### 3.4 状态切换测试
```
测试步骤:
1. 点击"启用"状态顾问的"停用"按钮
2. 观察状态变化
3. 再次点击"启用"按钮

预期结果:
✓ 状态成功切换
✓ 状态标签颜色正确更新 (绿色启用/红色停用)
✓ 按钮文字正确切换
✓ 数据库/存储正确更新
```

#### 3.5 删除顾问测试
```
测试步骤:
1. 点击任一顾问的"删除"按钮
2. 确认删除对话框点击"确定"
3. 验证删除结果

预期结果:
✓ 显示确认对话框
✓ 确认后成功删除
✓ 列表自动刷新
✓ 分页信息正确更新
```

### 第四步：高级功能测试

#### 4.1 搜索功能测试
```
测试数据: 
- 搜索姓名: "张"
- 搜索电话: "0912"  
- 搜索邮箱: "@example"

预期结果:
✓ 支持姓名、电话、邮箱模糊搜索
✓ 搜索结果准确
✓ 实时搜索响应
✓ 清空搜索条件恢复全部数据
```

#### 4.2 组合筛选测试
```
测试步骤:
1. 设置搜索关键词: "李"
2. 选择地区: "新北市" 
3. 选择专业: "工伤认定"
4. 选择状态: "启用"

预期结果:
✓ 多条件组合筛选正确
✓ 结果准确匹配所有条件
✓ 分页正确处理筛选结果
```

#### 4.3 分页功能测试
```
测试步骤:
1. 确认总数据量 > 10条
2. 测试页码点击
3. 测试上一页/下一页按钮
4. 验证页面边界处理

预期结果:
✓ 分页控件正确显示
✓ 页码跳转正常
✓ 边界情况正确处理 (第一页/最后一页)
✓ 每页显示条数正确 (10条)
```

### 第五步：数据持久化测试

#### 5.1 本地存储测试
```
测试步骤:
1. 添加一个新顾问
2. 刷新页面
3. 验证数据是否保持

预期结果:
✓ 数据成功保存到localStorage
✓ 页面刷新后数据保持
✓ 浏览器重开后数据保持
```

#### 5.2 API降级测试
```
测试步骤:
1. 打开浏览器开发者工具
2. 查看Console中的API调用日志
3. 验证降级处理机制

预期日志:
⚠️ API调用失败，使用本地存储数据: [错误信息]
✅ 获取劳工顾问列表成功 (本地存储): {total: X, page: 1, totalPages: Y}
```

### 第六步：UI/UX测试

#### 6.1 响应式设计测试
```
测试设备尺寸:
- 桌面: 1920x1080
- 平板: 768x1024  
- 手机: 375x667

预期结果:
✓ 表格在小屏幕上支持横向滚动
✓ 筛选条件在移动端正确布局
✓ 模态框在各尺寸下正确显示
✓ 按钮和操作项适合触控
```

#### 6.2 交互体验测试
```
验证点:
✓ 加载状态正确显示 (转圈动画)
✓ 错误状态友好提示
✓ 空数据状态显示"暂无顾问数据"
✓ 表单验证实时反馈
✓ 操作成功/失败消息提示
```

## 🚨 已知问题

### 预期限制
1. **后端API未完成**: 当前使用本地存储模拟API响应
2. **权限控制**: 暂未实现细粒度权限验证
3. **数据同步**: 多用户环境下数据可能不同步

### 功能限制
1. **批量操作**: 暂不支持批量删除/状态更新
2. **导入导出**: 暂不支持顾问数据导入导出
3. **历史记录**: 暂不支持操作历史追踪

## ✅ 测试检查清单

### 核心功能测试
- [ ] 页面正常加载
- [ ] 添加顾问功能
- [ ] 编辑顾问功能  
- [ ] 删除顾问功能
- [ ] 查看顾问详情
- [ ] 状态切换功能

### 筛选和搜索
- [ ] 地区筛选 (22个台湾行政区)
- [ ] 专业领域筛选 (12个专业分类)
- [ ] 状态筛选 (启用/停用)
- [ ] 关键词搜索 (姓名/电话/邮箱)
- [ ] 组合筛选功能

### 分页和数据
- [ ] 分页控件显示
- [ ] 页码跳转功能
- [ ] 数据计数准确
- [ ] 本地存储持久化

### 用户体验
- [ ] 响应式设计
- [ ] 加载状态提示
- [ ] 错误处理友好
- [ ] 操作反馈及时

## 📊 测试报告模板

```
测试执行时间: ____年__月__日
测试人员: _______________
测试环境: http://localhost:3030

功能测试结果:
✅ 基础CRUD: 通过/失败
✅ 筛选搜索: 通过/失败  
✅ 分页功能: 通过/失败
✅ 数据持久化: 通过/失败
✅ 响应式设计: 通过/失败

发现问题:
1. [问题描述]
2. [问题描述]

总体评价: 优秀/良好/需改进
```

## 🔄 后续开发计划

### 短期优化 (1-2周)
1. **后端API对接**: 替换模拟数据为真实API调用
2. **权限细化**: 添加不同管理员权限控制
3. **数据验证增强**: 电话号码格式验证、邮箱验证等

### 中期扩展 (2-4周)  
1. **顾问-案件分配**: 与咨询申请系统集成
2. **服务记录管理**: 详细的服务历史和评价系统
3. **统计报表**: 顾问工作量、满意度等数据报表

### 长期规划 (1-2月)
1. **智能推荐**: 基于地区和专业自动推荐合适顾问
2. **工作流集成**: 与N8N工作流系统集成自动化
3. **移动端支持**: 顾问专用移动端管理应用

---

**测试完成标志**: 所有核心功能测试通过，劳工顾问管理系统达到生产就绪状态。 